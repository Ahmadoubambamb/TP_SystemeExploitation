#include <stdio.h>
#include <sys/types.h>
#include <unistd.h>
#include <stdlib.h>
#include <string.h>

int main(int argc , char *argv[])
{ pid_t child_pid;
    child_pid = fork();
  if(argc == 3){
           if(strcmp(argv[1],"fils") == 0 && strcmp(argv[2],"pere") == 0){
             if(child_pid > 0)
              printf("nous somme dans le pere: PID du fils est %d et sont PID est %d \n",child_pid,(int)getpid());
             else if(child_pid == 0)
              printf("nous somme dans le fils: son PID est %d et son PID pere est %d \n",(int)getpid(),(int)getppid());
           }
           else if(strcmp(argv[1],"pere") == 0 && strcmp(argv[2],"fils") == 0)
           {
             if(child_pid > 0)
              printf("nous somme dans le pere: son PID  est %d et PID de son fils est %d \n",(int)getpid(),child_pid);
             else if(child_pid == 0)
              printf("nous somme dans le fils: PID pere est %d et son PID est %d \n",(int)getppid(),(int)getpid());
           }
           else
               printf("erreur sur les argument fournir !! \n merci de tapez: 'fils pere' ou 'pere fils' \n");
   }
 return EXIT_SUCCESS;
}
