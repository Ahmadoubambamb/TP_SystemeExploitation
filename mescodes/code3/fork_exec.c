#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <unistd.h>
#include <sys/types.h>

int main()
{ pid_t pidfils ;
 int status;
    char *arg_list[] = {"ls","-l","/",NULL};
    pidfils = fork();
    if(pidfils != 0)
    { wait(&status);
        if(WIFEXITED(status))
        {printf("pere: le fils s'est terminer normalemenrt avec %d \n",WEXITSTATUS(status));
        return 0;
        }
        else
            printf("le fils s'est mal terminer \n");
       // execlp("ps","ps",NULL);// le premier ls est le chemin du programme de ls
        //et le second est la commande
        return 0;
    }
    else
    {
        execvp("ls",arg_list);
        perror("Erreur dans execvp");
       exit(3);
    }
}
