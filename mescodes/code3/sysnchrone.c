#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <unistd.h>
#include <sys/types.h>

int main()
{ pid_t pid_fils ; int status;
    if(fork() == 0)
    {printf("suis le fils pid= %d:\n",getpid());
        //pause();
        sleep(6);
        exit(2);
    }
    else
    {pid_fils = wait(&status);
        if(WIFEXITED(status))
        {
            printf("Pere: fils PID = %d s'est terminer normal avec le code de retour %d :\n",pid_fils,WEXITSTATUS(status));
            return EXIT_SUCCESS;
        }
        else if(WIFSIGNALED(status))
        {
            printf("Pere: fils PID = %d s'est terminer avec par signal de code %d\n",pid_fils,WTERMSIG(status));
            return EXIT_SUCCESS;
        }
     return EXIT_FAILURE;
    }
}
