#include <stdio.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <unistd.h>
#include <stdlib.h>

int main()
{ pid_t pid;
    int status;
    if(fork() == 0)
    {printf("Fils: pid = %d \n",getpid());
        pause();
        exit(2);
    }
    else
    { pid = wait(&status);
        if(WIFEXITED(status))
        {
            printf("Pere: fils %d terminer avec status %d \n",pid,WEXITSTATUS(status));
            return EXIT_SUCCESS ;
        }
        else
            if(WIFSIGNALED(status))
            {
             printf("Pere: fils %d terminer par un signal num signal: %d \n",pid,WTERMSIG(status));
                 return EXIT_SUCCESS;
            }

     else
          return EXIT_FAILURE;
    }

}
