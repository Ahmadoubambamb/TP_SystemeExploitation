#include <stdio.h>
#include <stdlib.h>
#include <pthread.h>
#include <sys/types.h>
#include <unistd.h>
#include <string.h>
#include <time.h>

void *thread1(void *args){
    int num = *(int*)args;
        printf("suis le thread_%d cree:\n",num+1);
    return NULL;
}

void *thread2(void *args){
    int num = *(int*)args;
        printf("suis le thread_%d cree:\n",num+1);
    return NULL;
}

void *thread3(void *args){
    int num = *(int*)args;
        printf("suis le thread_%d cree:\n",num+1);
    return NULL;
}

int main(){
   // srand(time(NULL));
    pthread_t tid[3];
    int i;
   // s = rand()%10;
    void *(*f[])(void*) = {thread1,thread2,thread3};
    for(i = 0;i<3;i++){
      if(pthread_create(&tid[i], NULL, f[i], &i) != 0){
        perror("Erreur de creation de pthread");
        return EXIT_FAILURE;
      }
      else
        printf("thread_%d est cree\n",i);
    }
    puts("debut principal:");
     for(int i = 0;i<3;i++)
    pthread_join(tid[i],NULL);
    puts("Fin principal");
    return 0;
}



