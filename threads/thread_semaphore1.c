#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <pthread.h>
#include <semaphore.h>
sem_t semaphor ,mutex  , bd ;
 int nb = 0;
void *reader(void *args){
    while(1){
       sem_wait(&mutex);
       nb++;
       if(nb == 1)
           sem_wait(&bd);
        sem_post(&mutex);
       lire_base_donne();
       sem_wait(&mutex);
       nb--; // apres lecture il s'en va
       if(nb == 0) sem_post(bd);
        sem_post(&mutex);
    }
}

void *writter(void *args){
    while(1){
        sem_wait(&bd);
        ecrire_bd();
        sem_post(&bd);
    }
}

int main(){
    pthread_t tid[2];

    return EXIT_SUCCESS;
}
