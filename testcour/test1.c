#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <sys/types.h>
void creation_processus()
{
    //     printf("le processus ID est %d \n",(int)getpid());
//     printf("le processus ID du parent est %d\n",(int)getppid());

    /* fork() permet la creation d'un nouveau processus qui s'execute de maniere concurente avec le processus qui l'a cree
     il return le PID du processus cree a son pere 0 au fils et -1 en cas d'erreur*/
    pid_t ret;
    int i,j;
    for(i=0;i<8;i++)
        i=i+j;
    ret=fork();//  creation de processus
    printf("le processus ID est %d\n",ret);
}

void verification()
{ pid_t ret;
    int i,j;
    for(i=0;i<8;i++)
        i=i+j;
    if((int)ret==0)
        printf("je suis le fils");
    else if(ret==-1)
        printf("il y'a erreur !");
    else
    {
        printf("je suis le pere !\n");
        printf("pid de mon fils %d ",ret);
    }
 printf("pid unique du processus en cour %d ",(int)getpid());
}

void pidFils()
{
    pid_t pid_fils;
    pid_fils=fork();
    if(pid_fils==-1)
    {
        puts("erreur de creation du nouveau processus !");
        exit(1);
    }
    if(pid_fils==0)
    {
        printf("nous somme dans le fils \n");
        printf("le PID du fils est \%d \n",getpid());
        printf("le PID du pere est \%d \n",getppid());
    }
    else{
        printf("nous somme dans le pere \n");
        printf("le PID du fils est \%d \n",pid_fils);
        printf("le PID du pere est \%d \n",getpid());
        printf("le grand-pere est \%d \n",getppid());
    }
}
void main()
{
//creation_processus();
 //verification();
    pidFils();
}
